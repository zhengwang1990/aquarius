<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/logo-32x32.png') }}" sizes="32x32">
    <link rel="apple-touch-icon" type="image/png" href="{{ url_for('static', filename='img/logo-180x180.png') }}" sizes="180x180">
    {% block header %}{% endblock %}
    <title>Alpharius</title>
</head>
<body>
<nav>
    <div class="logo">
        <div class="logo-image">
            <img src="{{ url_for('static', filename='img/logo.png') }}">
        </div>

        <span class="logo-text">Alpharius</span>
    </div>

    <div class="menu-items">
        <ul class="nav-links">
            <li><a href="{{ '#' if url_for(request.endpoint) == '/' else url_for('web.dashboard')}}">
                <i class="uil uil-estate {{ 'active' if url_for(request.endpoint) == '/' else ''}}"></i>
                <span class="link-name {{ 'active' if url_for(request.endpoint) == '/' else ''}}">Dahsboard</span>
            </a></li>
            <li><a href="{{ '#' if url_for(request.endpoint) == '/transactions' else url_for('web.transactions')}}">
                <i class="uil uil-transaction {{ 'active' if url_for(request.endpoint) == '/transactions' else ''}}"></i>
                <span class="link-name {{ 'active' if url_for(request.endpoint) == '/transactions' else ''}}">Transactions</span>
            </a></li>
            <li><a href="{{ '#' if url_for(request.endpoint) == '/analytics' else url_for('web.analytics')}}">
                <i class="uil uil-chart {{ 'active' if url_for(request.endpoint) == '/analytics' else ''}}"></i>
                <span class="link-name {{ 'active' if url_for(request.endpoint) == '/analytics' else ''}}">Analytics</span>
            </a></li>
            <li><a href="{{ '#' if url_for(request.endpoint) == '/logs' else url_for('web.logs')}}">
                <i class="uil uil-file-alt {{ 'active' if url_for(request.endpoint) == '/logs' else ''}}"></i>
                <span class="link-name {{ 'active' if url_for(request.endpoint) == '/logs' else ''}}">Logs</span>
            </a></li>
            <li><a href="#">
                <i class="uil uil-shield-exclamation"></i>
                <span class="link-name">Emergency</span>
            </a></li>
        </ul>
    </div>
</nav>

<section class="dashboard">
    <div class="top">
        <span>
            <i class="uil uil-bars sidebar-toggle"></i>
            <span class="logo-text">Alpharius</span>
        </span>

        <span>
            {% if job_status == 'running' %}
                <svg class="run-animation" viewBox="0 0 60 60" fill="none">
                    <g clip-path="url(#clip0)">
                        <circle cx="26.695" cy="26.695" r="19.695" stroke="#E5E5E5" stroke-width="10"></circle>
                        <path d="M27.355 48.711C15.561 48.711 6 39.15 6 27.356 6 15.56 15.561 6 27.355 6" stroke="#00DF4D" stroke-width="11" stroke-linecap="round"></path>
                    </g>
                    <defs>
                        <clipPath id="clip0"><path fill="#fff" d="M0 0h54v54H0z"></path></clipPath>
                    </defs>
                </svg>
            {% endif %}
        </span>
    </div>

    <div class="dash-content">
        {% block content %}{% endblock %}
    </div>
</section>

<script src="{{ url_for('static', filename='js/base.js') }}"></script>
{% block scripts %}{% endblock %}
</body>
</html>
